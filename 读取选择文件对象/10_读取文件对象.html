<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box{
				width: 500px;
				height: 500px;
				border: 1px solid #000;
				border-radius: 5px;
				margin: 100px auto;
			}
		</style>
	</head>
	<body>
		<!--上传多个文件,增加multiple属性-->
		<input type="file" name="" id="files"/>
		<button>点我读取文件</button>
		
		<div class="box">
			
		</div>
		
		
		<script type="text/javascript">
			//需求:
//				点击读取按钮,将上传的文件,读取到.box中,并显示

			//获取各种DOM元素
			var files =document.querySelector("#files");
			var btnRead = document.querySelector("button");
			var box = document.querySelector(".box");
			
			//为按钮添加点击事件
			btnRead.addEventListener("click",function(){
				//获取用户上传的数据(第一个文件)
//				console.log(files.files);
				var data = files.files[0];
				//创建读取文件对象
				var fr  = new FileReader();
				//将用户上传的文件,进行转化,转化为URL的形式,这样后面就可以直接使用了
				fr.readAsDataURL(data)
//				console.log(fr.readAsDataURL(data));

				//检测文件是否读取完毕
				fr.addEventListener("load",function(){
					//读取完毕之后,拿到上传文件的路径
					var result = fr.result;
//					console.log(result);
					//创建节点
					var img = document.createElement("img");
					img.src=result;
					box.appendChild(img);
				})
				
				
			})
			
		</script>
	</body>
</html>
